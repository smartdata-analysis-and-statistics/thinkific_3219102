[
  {
    "objectID": "COPD-NMA.html",
    "href": "COPD-NMA.html",
    "title": "Comparative Effectiveness of Treatments for COPD: A Network Meta-Analysis Example",
    "section": "",
    "text": "This vignette reproduces the main analyses discussed in the book chapter “Principles of meta-analysis and indirect treatment comparisons” (Debray et al. 2026).\nHere, we focus on a case study evaluating the comparative effectiveness of maintenance inhaled therapies for chronic obstructive pulmonary disease (COPD).\nThe example is based on the systematic review by Baker et al. (Baker, Baker, and Coleman 2009), which identified 39 randomized controlled trials including 28,232 patients. These trials compared long-acting β₂-agonists (LABAs), tiotropium (TIO), inhaled corticosteroids (ICS), and combination ICS–LABA therapies with respect to exacerbation risk. The corresponding treatment network contains multiple closed loops, enabling both direct and indirect treatment comparisons. Unlike the COVID-19 example, this network provides an opportunity to assess local inconsistency across overlapping comparisons and to explore sources of heterogeneity and bias within a richer evidence structure."
  },
  {
    "objectID": "COPD-NMA.html#overview",
    "href": "COPD-NMA.html#overview",
    "title": "Comparative Effectiveness of Treatments for COPD: A Network Meta-Analysis Example",
    "section": "",
    "text": "This vignette reproduces the main analyses discussed in the book chapter “Principles of meta-analysis and indirect treatment comparisons” (Debray et al. 2026).\nHere, we focus on a case study evaluating the comparative effectiveness of maintenance inhaled therapies for chronic obstructive pulmonary disease (COPD).\nThe example is based on the systematic review by Baker et al. (Baker, Baker, and Coleman 2009), which identified 39 randomized controlled trials including 28,232 patients. These trials compared long-acting β₂-agonists (LABAs), tiotropium (TIO), inhaled corticosteroids (ICS), and combination ICS–LABA therapies with respect to exacerbation risk. The corresponding treatment network contains multiple closed loops, enabling both direct and indirect treatment comparisons. Unlike the COVID-19 example, this network provides an opportunity to assess local inconsistency across overlapping comparisons and to explore sources of heterogeneity and bias within a richer evidence structure."
  },
  {
    "objectID": "COPD-NMA.html#data-source",
    "href": "COPD-NMA.html#data-source",
    "title": "Comparative Effectiveness of Treatments for COPD: A Network Meta-Analysis Example",
    "section": "2 Data Source",
    "text": "2 Data Source\nTrials were identified through a systematic literature search of the following databases: MEDLINE (1950 – October 2007), EMBASE (1990 – October 2007), CINAHL (1982 – October 2007), the Cochrane Central Register of Controlled Trials (third quarter 2007), as well as Web of Science (1994 – October 2007).\nInclusion criteria were:\n\nRandomized and controlled design (placebo or active comparator).\nStudy population consisting of patients with chronic obstructive pulmonary disease (COPD).\nEvaluation of at least one of the following COPD drug classes:\n\nInhaled corticosteroids (ICS)\nTiotropium (TIO)\nLong-acting β₂-agonists (LABAs)\nCombination ICS–LABA therapy\n\nReporting of outcomes related to COPD exacerbation frequency or mortality.\n\nData are available from the R package netmeta:\n\nlibrary(netmeta)\ndata(Baker2009)\n\n\n\n\n\n\nstudy\nyear\nid\ntreatment\nexac\ntotal\n\n\n\n\nLlewellyn-Jones 1996\n1996\n1\nFluticasone\n0\n8\n\n\nLlewellyn-Jones 1996\n1996\n1\nPlacebo\n3\n8\n\n\nBoyd 1997\n1997\n2\nSalmeterol\n47\n229\n\n\nBoyd 1997\n1997\n2\nPlacebo\n59\n227\n\n\nPaggiaro 1998\n1998\n3\nFluticasone\n45\n142\n\n\nPaggiaro 1998\n1998\n3\nPlacebo\n51\n139\n\n\n\n\n\nThe primary outcome was the occurrence of one or more episodes of COPD exacerbation, recorded as a binary variable (yes/no). The network compares five single-agent treatments—fluticasone, budesonide, salmeterol, formoterol, and tiotropium—and two combination therapies (fluticasone + salmeterol and budesonide + formoterol) against placebo. Importantly, the original authors treated the combination therapies as distinct interventions rather than decomposing them into their individual components."
  },
  {
    "objectID": "COPD-NMA.html#setting-up-the-network",
    "href": "COPD-NMA.html#setting-up-the-network",
    "title": "Comparative Effectiveness of Treatments for COPD: A Network Meta-Analysis Example",
    "section": "3 Setting up the Network",
    "text": "3 Setting up the Network\nWe first define the network of interventions and visualize the geometry of available evidence.\n\nlibrary(multinma)\nlibrary(ggplot2)\n\nnet &lt;- set_agd_arm(data = Baker2009,\n                   study = study,\n                   trt = treatment,\n                   r = exac,\n                   n = total)\n\nplot(net, weight_edges = TRUE, weight_nodes = TRUE)  +\n    theme(legend.position = \"none\")"
  },
  {
    "objectID": "COPD-NMA.html#random-effects-network-meta-analysis",
    "href": "COPD-NMA.html#random-effects-network-meta-analysis",
    "title": "Comparative Effectiveness of Treatments for COPD: A Network Meta-Analysis Example",
    "section": "4 Random-Effects Network Meta-Analysis",
    "text": "4 Random-Effects Network Meta-Analysis\nWe first fit a random-effects model using the binomial likelihood with logit link. We use weakly informative priors for heterogeneity and relative effects.\n\nlibrary(dplyr)\n\nnma_consistency &lt;- nma(\n  net,\n  trt_effects = \"random\",\n  prior_trt = normal(scale = 5),\n  prior_het = half_normal(scale = 2.5),\n  refresh = 0\n)\n\nTo complement the relative treatment effects, we summarize the probability that each treatment ranks among the best options in reducing COPD exacerbations. Cumulative rank probabilities provide a visual summary of the likelihood that a given treatment occupies each possible rank position, with higher curves indicating a higher probability of superior performance. Figure 1 displays these probabilities for all treatments included in the network meta-analysis, using placebo as the reference.\n\ndb_rankprobs &lt;- posterior_rank_probs(nma_consistency, \n                                     lower_better = TRUE, \n                                     cumulative = TRUE)\nplot(db_rankprobs)\n\n\n\n\n\n\n\nFigure 1: Cumulative rank probabilities for treatments in COPD. Each curve represents the probability that a treatment ranks among the top k options (lower ranks indicate greater efficacy). Placebo is shown as the reference.\n\n\n\n\n\nTo complement the ranking results, we next assess the overall model fit and between‐study heterogeneity. Specifically, we extract the Deviance Information Criterion (DIC) and the estimated between‐study standard deviation (\\(\\tau\\)) from the consistency model, which will later be compared with those from the UME model.\n\n# Extract DIC\ndic_consistency &lt;- dic(nma_consistency)\n\n# Extract tau (posterior mean)\ntau_consistency &lt;- summary(nma_consistency)$summary %&gt;%\n  as.data.frame() %&gt;%\n  filter(parameter == \"tau\") %&gt;%\n  pull(mean)\n\nWe find the following estimate for \\(\\tau\\), the between-study standard deviation: 0.079. The DIC for this model is 158.8."
  },
  {
    "objectID": "COPD-NMA.html#assessing-inconsistency",
    "href": "COPD-NMA.html#assessing-inconsistency",
    "title": "Comparative Effectiveness of Treatments for COPD: A Network Meta-Analysis Example",
    "section": "5 Assessing Inconsistency",
    "text": "5 Assessing Inconsistency\nTo assess local inconsistency, we apply the node-splitting approach to each comparison with both direct and indirect evidence.\n\nnma_inconsistency &lt;- nma(\n  net,\n  consistency = \"ume\",\n  trt_effects = \"random\",\n  prior_trt = normal(scale = 5),\n  prior_het = half_normal(scale = 2.5),\n  refresh = 0\n)\n\nWe can again assess the overall model fit and between‐study heterogeneity, and compare it to the resuls from the consistency model:\n\n# Extract DIC\ndic_inconsistency &lt;- dic(nma_inconsistency)\n\n# Extract tau (posterior mean)\ntau_inconsistency &lt;- summary(nma_inconsistency)$summary %&gt;%\n  as.data.frame() %&gt;%\n  filter(parameter == \"tau\") %&gt;%\n  pull(mean)\n\n# Combine into a comparison data frame\nmodel_comparison &lt;- tibble::tibble(\n  Model = c(\"Consistency\", \"Inconsistency (UME)\"),\n  Tau   = c(tau_consistency, tau_inconsistency),\n  DIC   = c(dic_consistency$dic, dic_inconsistency$dic)\n)\n\n\n\n\n\n\nModel\nTau\nDIC\n\n\n\n\nConsistency\n0.0791944\n158.8097\n\n\nInconsistency (UME)\n0.0807342\n160.4020\n\n\n\n\n\nTo further explore model fit and potential inconsistency, we compared the residual deviance contributions from the consistency and UME models. Each point in the plot below represents the contribution of a study–treatment arm to the overall residual deviance. Points lying below the diagonal indicate observations that are better explained under the UME (inconsistent) model, suggesting potential sources of inconsistency.\n\n# Extract residual deviance contributions from both models\nresdev_cons &lt;- dic_consistency$pointwise$agd_arm %&gt;%\n  select(.study, .trt, resdev_cons = resdev)\nresdev_ume &lt;- dic_inconsistency$pointwise$agd_arm %&gt;%\n  select(.study, .trt, resdev_ume = resdev)\n\n# Merge by study and treatment\nresdev_joined &lt;- full_join(resdev_cons, resdev_ume, \n                           by = c(\".study\", \".trt\"))\n\n# Plot comparison\nggplot(resdev_joined, aes(x = resdev_cons, y = resdev_ume)) +\n  geom_abline(intercept = 0, slope = 1, linetype = \"solid\", color = \"grey50\") +\n  geom_point(size = 2) +\n  coord_equal() +\n  theme_minimal(base_size = 12) +\n  labs(\n    x = \"Residual Deviance (Consistency model)\",\n    y = \"Residual Deviance (UME model)\"\n  )\n\n\n\n\n\n\n\nFigure 2: Comparison of study-level residual deviance contributions between the consistency and UME models.\n\n\n\n\n\nFinally, we can identify data points with substantial differences in residual deviance between the two models:\n\nresdev_joined %&gt;%\n  filter(abs(resdev_cons - resdev_ume) &gt; 1) %&gt;%\n  as.data.frame()\n\n         .study       .trt resdev_cons resdev_ume\n1 vanNoord 2005 Tiotropium    2.420773   1.064997\n2 vanNoord 2005 Formoterol    2.074833   1.051790\n\n\nThe results indicate that most studies fit both models similarly, with only the van Noord (2005) study – specifically the Tiotropium and Formoterol arms – showing improved fit under the UME model. This pattern points to possible local inconsistency associated with that study."
  },
  {
    "objectID": "ITC_principles_practical.html",
    "href": "ITC_principles_practical.html",
    "title": "Principles of Indirect Treatment Comparisons",
    "section": "",
    "text": "This practical is designed for R, an open-source statistical programming environment widely used for data analysis and evidence synthesis. All examples can be reproduced on any computer with R (≥ 4.5.1) and the following packages installed: multinma, dplyr, and tibble.\nIf you are new to R:\n\nDownload and install R from https://cran.r-project.org.\n(Optional) Install RStudio for an easier coding interface: https://posit.co/download/rstudio/.\nYou can install all required packages with:\n\n\ninstall.packages(c(\"multinma\", \"dplyr\", \"tibble\"))\n\nIf running this practical on a shared or institutional computer, ensure these packages are available before starting. No special configuration or external data files are needed.\n\n\n\nThis exercise helps you familiarize yourself with the principles of indirect and mixed treatment comparisons.\nYou’ll use a simple, real-data-inspired example involving Semaglutide, Liraglutide, and Placebo, and visualize the treatment network using the multinma package in R.\nAlthough the data have been slightly simplified for illustration, the reported treatment effects are based on estimates published in Nature Medicine (2025)\n\n\n\nIn this example, two clinical trials each compared an active treatment with Placebo. We’d like to understand how Semaglutide performs relative to Liraglutide, even though no head-to-head trial was conducted. We derived the following contrast-level data from the published trials:\n\n\n\n\n\n\n\n\n\nComparison\nEffect Size\nError Variance\n95% CI\n\n\n\n\nLiraglutide vs Placebo\n4.53\n0.26\n(3.56; 5.55)\n\n\nSemaglutide vs Placebo\n10.02\n1.78\n(7.40; 12.63)\n\n\n\nEach effect size represents the mean percentage difference in total body weight loss versus placebo.\nThese effect sizes were derived from studies summarized in the Nature Medicine paper cited above. We’ll now use them to estimate the indirect comparison between the two active drugs."
  },
  {
    "objectID": "ITC_principles_practical.html#about-this-practical",
    "href": "ITC_principles_practical.html#about-this-practical",
    "title": "Principles of Indirect Treatment Comparisons",
    "section": "",
    "text": "This practical is designed for R, an open-source statistical programming environment widely used for data analysis and evidence synthesis. All examples can be reproduced on any computer with R (≥ 4.5.1) and the following packages installed: multinma, dplyr, and tibble.\nIf you are new to R:\n\nDownload and install R from https://cran.r-project.org.\n(Optional) Install RStudio for an easier coding interface: https://posit.co/download/rstudio/.\nYou can install all required packages with:\n\n\ninstall.packages(c(\"multinma\", \"dplyr\", \"tibble\"))\n\nIf running this practical on a shared or institutional computer, ensure these packages are available before starting. No special configuration or external data files are needed."
  },
  {
    "objectID": "ITC_principles_practical.html#introduction",
    "href": "ITC_principles_practical.html#introduction",
    "title": "Principles of Indirect Treatment Comparisons",
    "section": "",
    "text": "This exercise helps you familiarize yourself with the principles of indirect and mixed treatment comparisons.\nYou’ll use a simple, real-data-inspired example involving Semaglutide, Liraglutide, and Placebo, and visualize the treatment network using the multinma package in R.\nAlthough the data have been slightly simplified for illustration, the reported treatment effects are based on estimates published in Nature Medicine (2025)"
  },
  {
    "objectID": "ITC_principles_practical.html#background",
    "href": "ITC_principles_practical.html#background",
    "title": "Principles of Indirect Treatment Comparisons",
    "section": "",
    "text": "In this example, two clinical trials each compared an active treatment with Placebo. We’d like to understand how Semaglutide performs relative to Liraglutide, even though no head-to-head trial was conducted. We derived the following contrast-level data from the published trials:\n\n\n\n\n\n\n\n\n\nComparison\nEffect Size\nError Variance\n95% CI\n\n\n\n\nLiraglutide vs Placebo\n4.53\n0.26\n(3.56; 5.55)\n\n\nSemaglutide vs Placebo\n10.02\n1.78\n(7.40; 12.63)\n\n\n\nEach effect size represents the mean percentage difference in total body weight loss versus placebo.\nThese effect sizes were derived from studies summarized in the Nature Medicine paper cited above. We’ll now use them to estimate the indirect comparison between the two active drugs."
  },
  {
    "objectID": "ITC_principles_practical.html#step-1.-visualizing-the-treatment-network",
    "href": "ITC_principles_practical.html#step-1.-visualizing-the-treatment-network",
    "title": "Principles of Indirect Treatment Comparisons",
    "section": "2.1 Step 1. Visualizing the Treatment Network",
    "text": "2.1 Step 1. Visualizing the Treatment Network\nLet’s visualize how these two studies form a (simple) network of interventions.\n\nlibrary(multinma)\nlibrary(tibble)\n\n# Contrast-level AgD with a reference row per study (y = NA on Placebo)\nagd_contrast &lt;- tribble(\n  ~studyn,   ~trtn,         ~diff,        ~se_diff,\n  \"Study 1\", \"Placebo\",        NA_real_,       NA_real_,\n  \"Study 1\", \"Liraglutide\",     4.53,      sqrt(0.26),\n  \"Study 2\", \"Placebo\",        NA_real_,       NA_real_,\n  \"Study 2\", \"Semaglutide\",    10.02,     sqrt(1.78)\n)\n\nnet &lt;- set_agd_contrast(agd_contrast,\n                 study = studyn,\n                 trt = trtn,\n                 y = diff,\n                 se = se_diff)\n\n# Visualize\nplot(net, weight_edges = TRUE, weight_nodes = FALSE)\n\n\n\n\n\n\n\n\nIn this network plot, we can see\n\nPlacebo is the common comparator\nLiraglutide and Semaglutide are connected through Placebo"
  },
  {
    "objectID": "ITC_principles_practical.html#step-2.-estimating-the-indirect-comparison",
    "href": "ITC_principles_practical.html#step-2.-estimating-the-indirect-comparison",
    "title": "Principles of Indirect Treatment Comparisons",
    "section": "2.2 Step 2. Estimating the Indirect Comparison",
    "text": "2.2 Step 2. Estimating the Indirect Comparison\nWhen two treatments have both been compared to a common control, we can use the consistency equation to indirectly compare them:\n\\(\\hat{\\Delta}_{A,B} = \\hat{\\Delta}_{A,C} - \\hat{\\Delta}_{B,C}\\)\n\\(\\text{Var}(\\hat{\\Delta}_{A,B}) = \\text{Var}_{A,C} + \\text{Var}_{B,C}\\)\nTry it yourself:\n\n# Effect sizes and variances (based on Nature Medicine 2025 study)\nlira &lt;- list(est = 4.53, var = 0.26)\nsema &lt;- list(est = 10.02, var = 1.78)\n\n# Indirect comparison: Semaglutide vs Liraglutide\nest_indirect &lt;- sema$est - lira$est\nvar_indirect &lt;- sema$var + lira$var\nse_indirect  &lt;- sqrt(var_indirect)\n\n# 95% Confidence Interval\nci &lt;- est_indirect + qnorm(c(0.025, 0.975)) * se_indirect\n\nYou should obtain an effect size of approximately 5.49 in favor of Semaglutide, with a 95% confidence interval of (2.69, 8.29). This means that, based on indirect evidence through placebo, Semaglutide achieves about 5.49% greater mean weight loss than Liraglutide.\nWe can fit the same analysis using the multinma package, which adopts a Bayesian estimation framework:\n\ndb_fit_FE &lt;- nma(net, \n                 trt_effects = \"fixed\",\n                 link = \"identity\")\nrelative_effects(db_fit_FE, trt_ref = \"Liraglutide\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPosterior Summary\n\n\n\nContrast\nMean\nSD\n2.5%\nMedian\n97.5%\n\n\n\n\nPlacebo vs. Liraglutide\n-4.53\n0.51\n-5.55\n-4.52\n-3.55\n\n\nSemaglutide vs. Liraglutide\n5.32\n1.43\n2.61\n5.34\n8.04"
  },
  {
    "objectID": "ITC_principles_practical.html#step-3.-mixed-treatment-comparisons",
    "href": "ITC_principles_practical.html#step-3.-mixed-treatment-comparisons",
    "title": "Principles of Indirect Treatment Comparisons",
    "section": "2.3 Step 3. Mixed Treatment Comparisons",
    "text": "2.3 Step 3. Mixed Treatment Comparisons\nNow that you have seen how two studies connect through a common comparator, we can extend the idea of an indirect comparison to a mixed treatment comparison (MTC).\nAn MTC combines both direct and indirect evidence across a connected network of trials.\n- Direct evidence comes from head-to-head trials comparing two treatments in the same study.\n- Indirect evidence arises when two treatments are compared through a shared control (e.g., Placebo).\nBy “mixing” these sources, we obtain more precise estimates of relative effects across all treatments.\nConsider we now have a third study that directly compares Semaglutide and Liraglutide:\n\n\n\n\n\n\n\n\n\nComparison\nEffect Size\nError Variance\n95% CI\n\n\n\n\nLiraglutide vs Placebo\n4.53\n0.26\n(3.56; 5.55)\n\n\nSemaglutide vs Placebo\n10.02\n1.78\n(7.40; 12.63)\n\n\nSemaglutide vs Liraglutide\n9.40\n1.65\n(6.88; 11.91)\n\n\n\nWe can update our contrast-level data to include this new direct comparison:\n\\(\\hat{\\Delta}_{A,B, \\text{mixed}} = \\left(\\frac{\\hat{\\Delta}_{A,B, \\text{direct}}}{\\text{Var}(\\hat{\\Delta}_{A,B, \\text{direct}})} + \\frac{\\hat{\\Delta}_{A,B, \\text{indirect}}}{\\text{Var}(\\hat{\\Delta}_{A,B, \\text{indirect}})}\\right)  \\left(\\frac{1}{\\text{Var}(\\hat{\\Delta}_{A,B, \\text{direct}})} + \\frac{1}{\\text{Var}(\\hat{\\Delta}_{A,B, \\text{indirect}})}\\right)^{-1}\\)\n\\(\\text{Var}(\\hat{\\Delta}_{A,B, \\text{mixed}}) =  \\left(\\frac{1}{\\text{Var}(\\hat{\\Delta}_{A,B, \\text{direct}})} + \\frac{1}{\\text{Var}(\\hat{\\Delta}_{A,B, \\text{indirect}})}\\right)^{-1}\\)\nIn R, we can derive the mixed effect as follows:\n\n# New direct comparison data\ndirect_comp &lt;- list(est = 9.40, var = 1.65)\n\n# Mixed treatment comparison\nest_mixed &lt;- (direct_comp$est / direct_comp$var + est_indirect / var_indirect) /\n               (1 / direct_comp$var + 1 / var_indirect)\nvar_mixed &lt;- 1 / (1 / direct_comp$var + 1 / var_indirect)\nse_mixed &lt;- sqrt(var_mixed)\n\n# 95% Confidence Interval\nci_mixed &lt;- est_mixed + qnorm(c(0.025, 0.975)) * se_mixed\n\nYou should obtain an effect size of approximately 7.65 in favor of Semaglutide, with a 95% confidence interval of (5.78; 9.52).\nWe can fit the same analysis using the multinma package:\n\n# Updated contrast-level AgD including direct comparison\nagd_contrast &lt;- tribble(\n  ~studyn,   ~trtn,         ~diff,        ~se_diff,\n  \"Study 1\", \"Placebo\",        NA_real_,       NA_real_,\n  \"Study 1\", \"Liraglutide\",     4.53,      sqrt(0.26),\n  \"Study 2\", \"Placebo\",        NA_real_,       NA_real_,\n  \"Study 2\", \"Semaglutide\",    10.02,     sqrt(1.78),\n  \"Study 3\", \"Liraglutide\",     NA_real_,       NA_real_,\n  \"Study 3\", \"Semaglutide\",     9.40,      sqrt(1.65)\n)\n\nnet &lt;- set_agd_contrast(agd_contrast,\n                 study = studyn,\n                 trt = trtn,\n                 y = diff,\n                 se = se_diff)\n\n\ndb_fit_FE_mixed &lt;- nma(net, \n                       trt_effects = \"fixed\",\n                       link = \"identity\")\nrelative_effects(db_fit_FE_mixed, trt_ref = \"Liraglutide\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPosterior Summary\n\n\n\nContrast\nMean\nSD\n2.5%\nMedian\n97.5%\n\n\n\n\nPlacebo vs. Liraglutide\n-4.26\n0.48\n-5.20\n-4.26\n-3.33\n\n\nSemaglutide vs. Liraglutide\n7.58\n0.94\n5.77\n7.57\n9.42\n\n\n\n\n\nWe can also rank the treatments included in this example according to their estimated effectiveness:\n\ndb_rankprobs &lt;- posterior_rank_probs(db_fit_FE_mixed, lower_better = FALSE)\nplot(db_rankprobs)\n\n\n\n\n\n\n\n\nIn this figure, we can see that Semaglutide has the highest probability of being the most effective treatment for weight loss, followed by Liraglutide and Placebo. These rankings apply only to the subset of treatments analyzed in this simplified example, not to the full network of interventions reported in the Nature Medicine publication."
  },
  {
    "objectID": "ITC_principles_practical.html#extending-mtc-to-network-meta-analysis",
    "href": "ITC_principles_practical.html#extending-mtc-to-network-meta-analysis",
    "title": "Principles of Indirect Treatment Comparisons",
    "section": "3.1 Extending MTC to Network Meta-analysis",
    "text": "3.1 Extending MTC to Network Meta-analysis\nWe can extend the principles of mixed treatment comparisons to a full network meta-analysis (NMA) by incorporating multiple treatments and studies. An NMA allows us to estimate relative effects across a connected network of interventions, even when some treatments have not been directly compared in head-to-head trials.\nThis example is discussed in greater detail in our upcoming book chapter, Principles of meta-analysis and indirect treatment comparisons (Debray et al. 2026). It is based on results from a systematic review of randomized controlled trials evaluating pharmacologic treatments for chronic obstructive pulmonary disease (COPD) (Baker, Baker, and Coleman 2009).\nThe primary outcome, occurrence of one or more episodes of COPD exacerbation, is binary (yes / no). Five monotherapies – fluticasone, budesonide, salmeterol, formoterol, and tiotropium – and two fixed combinations – fluticasone + salmeterol and budesonide + formoterol – were compared against placebo. The data are available from the R package netmeta:\n\n# install.packages(\"netmeta)\nlibrary(netmeta)\ndata(Baker2009)\n\n\n\n\n\n\nstudy\nyear\nid\ntreatment\nexac\ntotal\n\n\n\n\nLlewellyn-Jones 1996\n1996\n1\nFluticasone\n0\n8\n\n\nLlewellyn-Jones 1996\n1996\n1\nPlacebo\n3\n8\n\n\nBoyd 1997\n1997\n2\nSalmeterol\n47\n229\n\n\nBoyd 1997\n1997\n2\nPlacebo\n59\n227\n\n\nPaggiaro 1998\n1998\n3\nFluticasone\n45\n142\n\n\nPaggiaro 1998\n1998\n3\nPlacebo\n51\n139\n\n\n\n\n\nNote that in this example we have arm-level data rather than contrast-level data. Each row corresponds to a treatment arm within a study, including the number of participants and the number of events for that arm. In contrast, the previous examples used contrast-level data, where each row summarized the difference in outcomes between two treatments within the same study. Both data structures can be analyzed in multinma, but arm-level data (as in the Baker2009 dataset) are more common in published network meta-analyses and allow for greater modeling flexibility.\nWe can now visualize the treatment network:\n\nnet &lt;- set_agd_arm(data = Baker2009,\n                   study = study,\n                   trt = treatment,\n                   r = exac,\n                   n = total)\nplot(net, weight_edges = TRUE, weight_nodes = TRUE)\n\n\n\n\n\n\n\n\n\n\nIn this network plot, we can see how the various treatments connect through multiple studies, with Placebo serving as a common comparator. We can now use the same function calls as before to fit a network meta-analysis model and estimate relative treatment effects across all interventions. However, in this example we will use a logit link function, which is more appropriate for binary outcomes, and assume random treatment effects:\n\nfit_COPD &lt;- nma(net, \n                trt_effects = \"random\",\n                link = \"logit\", # Use logit-link function\n                refresh = 0)    # Suppress MCMC output\ndb_releff_RE &lt;- relative_effects(fit_COPD, trt_ref = \"Placebo\")\nplot(db_releff_RE, ref_line = 0)\n\n\n\n\n\n\n\n\nAmong monotherapies, tiotropium demonstrated the highest efficacy, with a pooled odds ratio of 0.69 (95% CrI: 0.62 to 0.77) versus placebo. Among combination therapies, budesonide + formoterol showed the greatest efficacy, with a pooled OR of 0.67 (95% CrI: 0.49 to 0.90)."
  },
  {
    "objectID": "covid-network-meta-analysis.html",
    "href": "covid-network-meta-analysis.html",
    "title": "Comparative Effectiveness of Treatments for COVID-19: A Network Meta-Analysis Example",
    "section": "",
    "text": "This vignette reproduces the main analyses discussed in the book chapter “Principles of meta-analysis and indirect treatment comparisons” (Debray et al. 2026).\nWe focus on a case study assessing the comparative effectiveness of remdesivir and tocilizumab in hospitalized COVID-19 patients, using data synthesized from 21 randomized trials."
  },
  {
    "objectID": "covid-network-meta-analysis.html#overview",
    "href": "covid-network-meta-analysis.html#overview",
    "title": "Comparative Effectiveness of Treatments for COVID-19: A Network Meta-Analysis Example",
    "section": "",
    "text": "This vignette reproduces the main analyses discussed in the book chapter “Principles of meta-analysis and indirect treatment comparisons” (Debray et al. 2026).\nWe focus on a case study assessing the comparative effectiveness of remdesivir and tocilizumab in hospitalized COVID-19 patients, using data synthesized from 21 randomized trials."
  },
  {
    "objectID": "covid-network-meta-analysis.html#data-source",
    "href": "covid-network-meta-analysis.html#data-source",
    "title": "Comparative Effectiveness of Treatments for COVID-19: A Network Meta-Analysis Example",
    "section": "2 Data Source",
    "text": "2 Data Source\nTrials were identified from two published network meta-analyses (Selvarajan et al. 2022; Siemieniuk et al. 2020), the COVID-NMA Initiative [Covid-NMA.com], and [clinicaltrials.gov].\nInclusion criteria were:\n\nhospitalized COVID-19 patients,\ninterventions: remdesivir or tocilizumab,\ncomparator: placebo or standard of care,\nshort-term mortality outcome available,\npeer-reviewed publication.\n\n\nlibrary(dplyr)\n\ncovid &lt;- readRDS(file.path(\"data\",\"covid.rds\"))\n\n# Define abbreviations\ncovid &lt;- covid %&gt;% mutate(\n  trt = case_when(\n    trtn == \"Remdesivir\" ~ \"REM\",\n    trtn == \"Tocilizumab\" ~ \"TOC\",\n    trtn == \"Standard of care\" ~ \"STD\"\n  )\n)\n\n\n\n\n\n\nstudlab\ntrtn\nevents\nn\ntrt\n\n\n\n\nAder\nRemdesivir\n34\n414\nREM\n\n\nAder\nStandard of care\n37\n418\nSTD\n\n\nBeigel (ACTT-1)\nRemdesivir\n59\n541\nREM\n\n\nBeigel (ACTT-1)\nStandard of care\n77\n521\nSTD\n\n\nCriner\nRemdesivir\n4\n384\nREM\n\n\nCriner\nStandard of care\n4\n200\nSTD"
  },
  {
    "objectID": "covid-network-meta-analysis.html#setting-up-the-network",
    "href": "covid-network-meta-analysis.html#setting-up-the-network",
    "title": "Comparative Effectiveness of Treatments for COVID-19: A Network Meta-Analysis Example",
    "section": "3 Setting up the Network",
    "text": "3 Setting up the Network\nWe first define the network of interventions and visualize the geometry of available evidence.\n\nlibrary(multinma)\nlibrary(ggplot2)\n\nnet &lt;- set_agd_arm(data = covid,\n                   study = studlab,\n                   trt = trt,\n                   r = events,\n                   n = n)\n\nplot(net, weight_edges = TRUE, weight_nodes = TRUE)  +\n    theme(legend.position = \"none\")"
  },
  {
    "objectID": "covid-network-meta-analysis.html#random-effects-network-meta-analysis",
    "href": "covid-network-meta-analysis.html#random-effects-network-meta-analysis",
    "title": "Comparative Effectiveness of Treatments for COVID-19: A Network Meta-Analysis Example",
    "section": "4 Random-Effects Network Meta-Analysis",
    "text": "4 Random-Effects Network Meta-Analysis\nFit a random-effects model using the binomial likelihood with logit link. We use vague priors for heterogeneity and relative effects.\n\nnma_model &lt;- nma(\n  net,\n  trt_effects = \"random\",\n  prior_trt = normal(scale = 10),\n  prior_het = half_normal(scale = 5),\n  refresh = 0\n)\n\nWe can visualize the relative treatment effects estimated by the model.\n\ndb_releff &lt;- relative_effects(nma_model, trt_ref = \"STD\")\nplot(db_releff, ref_line = 0)"
  }
]